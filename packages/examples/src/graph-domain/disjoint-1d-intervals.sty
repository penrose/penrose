-- GOAL: Get two 1D intervals to be disjoint (they are aligned on Y)

canvas {
  width = 800
  height = 700
}

Colors {
    Colors.black = rgba(0.0, 0.0, 0.0, 1.0)
    Colors.gray = rgba(0.8, 0.8, 0.8, 1.0)
    Colors.red = rgba(1.0, 0.0, 0.0, 1.0)
    Colors.pink = rgba(1.0, 0.4, 0.7, 1.0)
    Colors.yellow = rgba(1.0, 1.0, 0.0, 1.0)
    Colors.orange = rgba(1.0, 0.6, 0.0, 1.0)
    Colors.green = rgba(0.0, 1.0, 0.0, 1.0)
    Colors.blue = rgba(0.0, 0.0, 1.0, 1.0)
    Colors.sky = rgba(0.325, 0.718, 0.769, 1.0)
    Colors.cyan = rgba(0.0, 1.0, 1.0, 1.0)
    Colors.purple = rgba(0.5, 0.0, 0.5, 1.0)
    Colors.white = rgba(1.0, 1.0, 1.0, 1.0)
    Colors.none = none()
}

global {
}

forall Vertex V {
       len = 200.
       V.center = ?

       V.left = -len/2. + V.center
       V.right = len/2. + V.center

       V.shape = Line {
                  start: (V.left, 0.)
                  end: (V.right, 0.)
                  strokeWidth: 10.
       }
}

-- Interval with DOF
-- Vertex `v1` {
--        len = 200.
--        `v1`.center = ?

--        `v1`.left = -len/2. + `v1`.center
--        `v1`.right = len/2. + `v1`.center

--        `v1`.shape = Line {
--                   start: (`v1`.left, 0.)
--                   end: (`v1`.right, 0.)
--                   strokeWidth: 10.
--                   strokeColor: rgba(0.0, 0.0, 0.5, 0.3)
--        }
-- }

-- Vertex `v2` {
--        len = 200.
--        `v2`.center = ?

--        `v2`.left = -len/2. + `v2`.center
--        `v2`.right = len/2. + `v2`.center

--        `v2`.shape = Line {
--                   start: (`v2`.left, 0.)
--                   end: (`v2`.right, 0.)
--                   strokeWidth: 10.
--                   strokeColor: rgba(0.5, 0.0, 0.0, 0.3)
--        }
-- }

-- Point-line
-- Vertex `v1`; Vertex `v2` {
--         ensure disjointIntervals(`v1`.shape, `v2`.shape)
-- }

forall Vertex v1; Vertex v2 {
-- Note this generates the constraints twice
        ensure disjointIntervals(v1.shape, v2.shape)
}