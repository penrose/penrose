-- Fork of venn-opt-test to verify doing optimization through an (external) computation

Colors {
   Colors.none = rgba(0.0, 0.0, 0.0, 0.0)
   Colors.black = rgba( 0.0, 0.0, 0.0, 1.0 )
   Colors.blue = rgba( 0.8, 0.7, 1.0, 0.2 )
   Colors.red = rgba( 1.0, 0.0, 0.0, 0.5 )
}

const {
      const.circle = Circle {
                   center : (0., 0.)
                   r : 100.0
                   color : Colors.none
                   strokeWidth : 5.0
                   strokeColor : Colors.red
      }
}

forall Set x {
       x.r = 100.0
       x.angle = ?       

    x.shape = Circle {
            center : (x.r * cos(x.angle), x.r * sin(x.angle))
            strokeWidth : 0.0
    }

    x.text = Text {
        string : x.label
    }

    ensure contains(x.shape, x.text)
    ensure minSize(x.shape)
    ensure maxSize(x.shape)
    encourage sameCenter(x.text, x.shape)
    x.textLayering = x.text above x.shape
}

-- forall Set x; Set y
-- where IsSubset(x, y) {

--     ensure smallerThan(x.shape, y.shape)
--     ensure outsideOf(y.text, x.shape)
--     ensure contains(y.shape, x.shape, 5.0)
--     x.shape above y.shape
-- }
